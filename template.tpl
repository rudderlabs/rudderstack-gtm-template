___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "type": "TAG",
  "version": 1,
  "securityGroups": [],
  "displayName": "RudderStack GTM Template",
  "categories": [
    "ANALYTICS", "TAG_MANAGEMENT"
  ],
  "brand": {
    "displayName": "RudderStack",
    "thumbnail": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlkAAAMGCAYAAADBV5HRAAAABmJLR0QA/wD/AP+gvaeTAAAyv0lEQVR42u3debzldUH/8fcMDDAzLLKILIqCJqa4oFGS9EjJJTVc0jGX1HG7ycy95/M9M9OMWfK7j1wiDQ2tFLUylDJMLVAUURPFHcVUCIVEUVEWWRTZZph+f9xjzdz7ud3v3O8XmOX5ejye//RIe/Q553zP+yz3TCJJkiRJkiRJ2uZbdf+knA7M8I/OAGYzPNjzpzRn5aik/Dcww03OAGbT/LLnT2nOJh7qYgGzjqz1zgGMLGmejT/AxQJmHVk/dw5gZEnzbHiYiwXMOrKudQ5gZEnz/bjwni4WMOvI+rFzACNLmu/IuruLBcw6si53DmBkSfNs3V4uFjDryLrEOYCRJc33O1mLXSxg1pF1oXMAI0uaZ5MLXSxg1pF1gXMAI0vqULnVBQOqI+tzzgGMLKnLyPIXVFAfWR92DmBkSV1Glu+dQHVkNac6BzCypC4j61wXDKi+k/VG5wBGltRlZH3ABQOq72T9sXMAI0vqMrLe7oIBtZE1eLlzACNL6jKy/swFA6rvZD3TOYCRJXVosMYFA6rvZD3GOYCRJXWoWe6CAbWRNXywcwAjS+rQ8DgXDKiNrPGDnAMYWVKXd7KOdsGA2sia2DUpG50FGFnSPJu4pwsG1EZWkpQrnQUYWdI8m1yYlFtcNKA6sr7gLMDIkjpULnHRgOrIeq+zACNL6jKyPuaiAdWR5XfkwMiSOo0sv/oO9ZH1B84CjCypy8h6pYsGVEfWE5wFGFlSh5rnuGhAbWStur+zACNL6tDEI100oDayJnZNyu3OA4wsaZ6tOMBFA2ojK0nKD5wHGFnSfFuQlJ+7cEB1ZH3GeYCRJXWofNmFA6oj623OA4wsqUODv3XhgNrIalY6DzCypA41jQsH1EbW8DecBxhZUpeRdawLB9RG1rq9krLRmYCRJc2z1fu5cEBtZCVJ+Z4zASNL6lC5wsUDqiPrTGcCRpbUZWR91MUDqiPrtc4EjCypy8h6vYsH1EbW4NnOBIwsqUOD57t4QG1kTTzQmYCRJXV5J+shLh5QG1mTO0/9z5wNGFnSvJpcmJTrXUBg+shKknKucwEjS+pQc7YLCNRG1uB1zgWMLKnLR4YnuIBAbWQ1T3YuYGRJHRr8lgsI1EbW8Xsn5XZnA0aWNM/WLE3KehcRjKzqO70XOhswsqQuHxme7yKCkVX9zuIpzgaMLKnLyDrZRQQjq/rYeIGzASNL6vK9rGe5iGBk1Zq4r7MBI0vq0PhBLiIYWbO+0+sfUsfIktTpI8Nvu5BgZFUfG+91PhhZkjrUvNmFBCOr+thY7nwwsiR1+V7Wk1xIMLJqrTggKRudEUaWpHk2XBz/IC5G1mwfGX7VGWFkSeryvayPuphgZFUfG691RhhZkrp8L6txMcHIqr7T+xvOCCNLUpd3sg53McHIqrVsp6T8xDlhZEnqMrQudUHByKo1eJ9zwsiS1GVk/bULCkZW9eP0FzsnjCxJXb6X9WQXFIysWuMHJeV2Z4WRJWmeTe6SlGtdVDCyqu/0fsZZYWRJ6vJu1rtcVDCyqt/LmnBWGFmSuoysJ7qoYGTVWnFAUjY4L4wsSfNsbFFSrnFhwciqfmT4784LI0tSh8o7XVgwsqrv9B7vvDCyJHVo4vEuLBhZ1cfG3ZOy3plhZEmaZ5M7J+VKFxeMrOo7vR93ZhhZkrp8ZPg2FxeMrFqDMWeGkSWpQ82xLi4YWbVW75eU25wbRpak+X5kuDApl7nAYGRV3+n9oHPDyJLUocGrXGAwsqqPjSc5N4wsSR0aHuzHFzGyZnunt/mus8PIktShcqaLDEZW9XuLk84OI0tSl5H1FBcZjKxaE/f0Ti9GlqQOTe6clB+40GBkVV+EnOX8MLIkdWjwGhcajKzqY+Ppzg8jS1KHxg9Nyu0uNhhZ1Xd6f+gMMbIkdag528UGI6v6btbrnCFGlqQOld9xscHIqjVxT78Aj5ElqUsLknKhCw5GVvXdrPc4R4wsSV0+MnypCw5GVvWd3ockZaOzxMiSNN+PRXZNyo9cdDCyqkPrE84SI0tSl49F/HuGGFn1x4Z/zxAjS1KXhvsk5UYXHoys6vcWv+k8MbIkdflY5K9deDCyqo+NlzhPjCxJXd7NOiz+zTaMrNm+t3iFM8XIktTlFfv7XXwwsqqPjVc6U4wsSV3ezXqwf2oHI6vWit2TcpVzxciS1KHB+1yAMLKq72a9wrliZEnq8v2TB3o3CyOr1pqlSfmxs8XIktTlFftpLkIYWbWaVc4WI0tSl48Mfykp612IMLKmt3y3pHzf+WJkSerybtbfuRBhZFXfzVrpfDGyJHVo5b2TcquLEUbW9CZ3Scp3nDFGlqQu72a9zcUII6v62HiZM8bIktSh4cHxbxpiZFUaW5SUi50zRpakLq/YT3BBwsiqfjfryc4ZI0tSl3ezFiflMhcljKzqi5CznDVGlqQuTyS/56KEkVVr/AFJuc15Y2RJ6jK0znVhwsiqPjZOdt4YWZI6NHGkf24HI6vW8Xsn5WpnjpElqcsrdj9QipFVzQ+UYmRJ6jay7pGUG1ygMLKmt2ynpHzduWNkSerQYK0LFEZWreFjnTtGlqQOTe6clK+6SGFkVd/tfbezx8iS1OWJ5KikbHChwsia3sp9k3Kl88fIktTlY8OTXKgwsmo1z3P+GFmSOjS2JCmXulhhZFVfhJzhNsDIktTlFfuxSdnogoWRNeMj9UOS8lO3A0aWpC5D610uWBhZ1aE1cDtgZEnq0HCfpPzYRQsja3qTC5NyntsCI0tSl1fs/gFpjKz6i5AHJeUWtwdGlqQuQ+s0Fy6MrOpjY7XbAyNLUofW7ZWUy1y8MLJmtCApZ7lNMLIkdah5lB8pxciqNX5QUq52u2BkSery0cirXcAwsqovQp7mdsHIktShyZ2T8nkXMYys6ouQt7ttMLIkdWh4mB9ixMiqtWZpUi52+2BkSery0ciLXcgwsqqPjYcn5Va3EUaWpC4fjbzXxQwjq9ZgrdsII0tSh1bsnpRvuqBhZM1oQTJ4n9sJI0tSh1bdPynXu6hhZFVfhFzotsLIktTlY8OnJGWjCxtG1ozHxuFJucHthZElqUOD17mwYWTVap7mRQhGlqQOTS5Mykdc3DCyqu9ovd5thpElqUPDfZLyHRc4jKzpLdspac52u2FkSery0cjDpp4AXegwsjZv5b7xj6xjZEnq+NHIc30HBSOr+iLk4Un5mdsPI0tSl6H1Jy50GFnVofXEpKx3G2JkSeoytN7qYoeRVX1svMxtiJElqUNji5LyMRc8jKxag5PcjhhZkjo0sWdS/sNFDyNrepMLk/J+tyVGlqQODQ9Oyvdd+DCyZjw2Fiflc25PjCxJHfJXVRhZ9Vbvl5RL3KYYWZK6DK0nJuVWF0CMrOmVw5NypdsVI0tShwZP9+frGFnVjw4fnJSfuG0xsiR1GVrPT8rtLoQYWTOG1q8m5aduX4wsSV0+OnyxX4XHyKq+CPn1pNzoNsbIktTlyaS4GGJk1SqPS8otbmeMLEld3tGadEHEyKo+Np7m+4sYWZK6vmo/0UURI6s6tJ6ZlA1ub4wsSfNtQVLe5MKIkVX9WP2FhhZGlqSu72itc3HEyKoOraf6jhZGlqSuTyZrXSAxsqqPjSdN/f/t9sfIkjT/J5OX+x0tjKxaE7/pd7QwsiR1rHmev6zCyKpVjvLL8BhZkrq+o/WspNzmgomRNeMdrSOTcpX7AUaWpA4Nj0vKzS6aGFkzHhsPSsoV7gsYWZK6fDzya0m50oUTI2vG0Do4KRe4P2BkSeryZHJYUv7TxRMja3pr90jKWe4TGFmSugytfZLmUy6gGFnTm9w5KW91v8DIktShiV2TwXtcRI0sj4Vag+LnTzCyJHVpgX9Y2sjyMJitsswfixhZHgeSur5qf5GfeDCyVKs52k88GFmS1PXJ5NH+8tDIUq3h/ZLydfcVI0uSujyZHJyUz7mwGlma3vLdkvL37i9GliR1aHLnpJzo4mpkqdZgzEfrRpYkdaz8flJ+7iJrZGnGY+MYvxBvZElSx5qHJeU7LrRGlqY3flBSPuv+Y2RJUodW7ps0Z7vYGlma3uQuyeCv3IeMLEnq0oLRjzPe6qJrZGnGO76/m5Rr3JeMLEnq0PBXknKxC6+RpemtOCApH3F/MrIkqcvQWpyUk118jSzN+o7vLe5XRpYkdfmI5GlJudpF2MjS9AZH+PFSI0uSOlbukZQPuxAbWZr1Hd+N7mNGliTNtwVJ0/hNLSNL1RciT/GbWkaWJHVs/FA/9WBkqda6vUbvat3u/mZkSVKXV+7LfFfLyFL1sXFMUv7Tfc7IkqQOrdk/aU51gTayNL3luyXNpN+cM7IkqWODJyXley7URpZmvKv1kGTwRfc/I0uSOrR2j6S8JSkbXLCNLG3asp2SsjopP3M/NLIkqUPjD0jKWS7aRpam1xyYNKd4IWJkSVLHhscl5VIXbyNLM8bWw5PBp90njSxJ6tDYotE/P3K9i7iRpeoLkcvcN40sSerQyn1Hvx/kYxIjS5sPrcVJWef7WkaWJHVs8IikfNwF3cjS9Fbda/RzKF6IGFmS1KXmUUn5hAu7kaXpjT/A2DKyJKmHyjFJOdcF3sjS9IYPSsrp/uFpI0uSuj6hPDYpX3ahN7I047HxYGPLyJKkri1Imt9Nyjdc8I0sTa85Oikfcz82siSpY+WYpJzp1buRpRlj62Gj72ytd582siSpjyeU2zwJGFna7LFx4OgfoL7OfdvIkqQ+nlCu9WRgZGnT1u4x+sHfy93HjSxJ6tC6vZLyh55QjCxNb3KXpLwgab7mvm5kSVKXJ5SFo79IPN1HiUaWpjd4xOgfovYr8kaWJHVpxQGjf5bEP0ZtZGmz1u4x9e7W4Bz3fyNLkjq+u1WOGb2Cv8mThpGlTZt4YFJOTMo1HgtGliR1eUK5e1KGyeCLfgbCyNKmjS2ZenerfNTPQBhZktSxcsjor6/O28EHl5GlaR2/92hwnem7jUaWJHVs5b03GVxGlvQ/DffZZHCtN7IkSR0af0BSTkjKl5Jyu5El/aLmwGQwkZSPJ+UWI0uS1KHV+yVl2ehL8z80sqRfNLZk9HMpJyblIiNLktShyYVTvzNU1o3+9P02I0v6RcPDksHY6DfqfmZkSZI6tHLfpDwjKW8a/bXieiNL+sW7XIPfTsqrk/LvSbnRyJIkdXxiKceMvkB/+jb0u0NGlu7glu2UDB809U5Xc2pSLjOyJEkdmlyYDB+cDF4++k7XF7bSj1GMLN0FjR+aDJ6flJOT8smt90WJkSVJ29KTy0HJ8Lip73Y1pyblwqRsMLKk4/f+33eDm1NGP6lyk5ElSerQ2JJk+CtJ+b2kvCIpb5v65e3Bt+6EP5U3srQ1PzYWJYMjksHTp/61hnJyMjgjKd+4c94ZNrIkaXtuQTI8eOoVfvn9ZPCq0RPNe5LykaR8OWm+2+EJx8jSNtzE3ZNyVDJ4VjJYm5Q3JuUfkvKhpHw+Kd9OynU9jazm4aN/dR7YzHDcGbADOGHaAPtEUs4f+WZS/mvkmqRcm5Sfjj6OcXZs5wZ/NPXXjoOTkuZtSfOOpLw7ad6TlH9KyvtHzkyas6YeP4NPJeXwTUbW4OX+MUeovhr5mjOA2d7Jcg7Q5p2sFzsQqPqqM4BZR9YG5wBzj6znORCo+oozgFlHlnezYO6RVZY5EKg+UL7sDGDWkXWdc4A5R9bgqQ4Eqr7kDGDWkXWlc4C5R9ZvOxCo+oIzgFlH1vedA8z9naxjHQhUfd4ZwKwj61LnAHN/J+sYBwJVn3UGMOvIusg5wNwj6ygHAlXnOQOYbWT5HTloM7Ie4kCg6jNJWe8coDayBl90DjD3yDrEgcCsI+sa5wDVd7LOdg4w58has9SBwGwja/At5wDV72Sd5hxgzpGVxC/3wmzvZPnyO9TfyXqzc4B2I+sHDgWq72Sd4Ryg+p2s/+ccoNXI8lciMMs7WX/nHKD6ceG4c4B272R9wqFAbWQ1b3AOUH0n69nOAdq9k/XPDgWq72S9wjlA9Z2sxzkHaPdO1t84FKi+k/VS5wC1kTVxpHOAdu9k/alDgeoX35/uHKD6TpbfWIR2I2tQHArURtbwN5wD1EbW2BLnAO3eyXqmQ4HayJq4r3OA2shKknKds4A5R9bwVxwK1EbW2KKkbHAWUB1ZX3UWMOfIWrmvQ4HayEqS8j1nAdWR9QFnAXOOrCQpP3UwUB1Z5zoLqI2swUnOAtqNrK87GKiNrOZdzgKqI2vCWUC7kfVvDgaqI2vSWUBtZA2PcxbQbmSd7GCgNrIGL3QWUH0n6whnAe1G1tDBQG1kTfyms4DayFqz1FlAq5HVPM3BQPWL737ZGqojK0nK1c4D5hxZEw91MFAbWct2SsptzgNqI2vwRecBc46s4eL40UWojKwkKd90HlAbWf76FlqMrCQpFzscqI6sf3QeUP24cLXzgHYj63SHA7WR1fyR84DayJp4vPOAViNr8CqHA9WR9WTnAbWRteIA5wHtRtZTHQ5UPy70F4ZQHVlJUq50JjDnyBo/1OFAbWQlSbnWmUBtZA3OcSYw58jKgqTc4ICgOrL8Q9FQfyfrjc4E5h5ZScpnHRDURtbgr5wJVN/JepEzgXYj660OCKrvZP2BM4HqyHqEM4FWI6s53gFBbWRNPNKZQG1kDRcnZb1zgTlH1sSRDgiqI2vXpNzsXGD6yEqScr5zgTlH1rKdfPkdaiMrScp5zgWqI+tk5wJzjix/jguzj6zmz50L1EbW4FnOBVqNrGbSIUH1naynOBeojazxg5wLtBpZ5XEOCWoja/V+SdnobDCyqi/Qv+tsYM6RtWJ3fykCtZGVJOViZ4ORVX1snOZsYM6RlSTlqw4KI6v6ncW/dTYYWdXnjRXOBtqNrLc4KIys6kciL3Y2GFnV542HOBtoNbIGz3ZQGFnVJ5LDnQ1GVq3JhUm53vlgZM3Z8GBf8MXImvUfUv+R88HIqr4I+bDzwchqVfm6w8LIqj42/sH5YGRVPwWZcD4YWa3yw4sYWT5Ohy0aWb/kfDCyWjV4jMPCyKp1/N5J2eCMMLKq7/Re4owwsuZsbJEvMWJkzfpE8nlnhJHlr9NhniMrScoHHRhGVvWxcYIzwsiqfgryJGeEkdVuZP2BA8PIqj42jnJGGFnVv05fPPW/46wwsuZo1b0cGEbWrL8JdKVzwsiq/uHU2c4JI6vdu1kXOjSMrOrHIu9xThhZ1ZHVOCeMrHY/5fAGh4aRVX0B8lznhJHlX0aALiPraIeGkVVrYs+k3OysMLKqQ+sbzgoja+4WJOUyB4eRVX0i+TdnhZFV/Tj9Vc4KI8tHhtBhZDXPc1YYWdU/nLq/s8LIavdq3Z+rY2RVW7uHP1fHyJr1RcjXnBdGVruhdanDw8iqPjbe77wwsqqPjVc6L4ysdg+WEx0eRlb1sfF7zgsjq/rDpIclZaMzw8ia+y+pjnR4GFnVf+dzSVJudGYYWdUXIec7M4ysdg+WbztAjKzqd0/+2ZlhZFX/ynCtM8PIavdgeY0DxMiqvgB5hjPDyKo+Ng7xkSFGVrsHy+EeLBhZtZbvlpSfODeMrOoL9E87N4wsDxaY58hKknKyc8PIqj5vPN+5YWR5sECHkTU4wrlhZFX/ynBxUq51dhhZHiwwz5GVJOXzzg4jq/rYeIuzw8jyYIEOI6t5sbPDyKq+QH+ws8PI8mCBDiNrzdKk3OD8MLKqH6l/0flhZHmwwGc6vNP7NueHkVV9p/elzg8jy4MFOoyswSOcH0ZWrRW7e6cXI8uDBT7T8XuLX3GGGFnVx8bbnSFGli/AY2R1eafXF+Axsur/Du5DnSFGVqvGD03KBoeKkTXjiWTXpFzhHDGyqi/QP+YcMbLaff/kfQ4VI6v6btYfO0eMrOrIeoJzxMhq92A5yqFiZFV/6mSfpPzMWWJkVV+EfM1ZYmS1G1rnOViMLN9bxMjagpG13FliZLX7yPDpDhYjy/cWMbLaN7YoKd93nhhZcza5MCn/6XAxsqrvZv2L88TIqj42XuE8MbLaPVhWOFyMLN9bxMhq3/F7+94iRla7t36XJOVqB4yRVR1an3WmGFnVx8bJzhQjq90XGf/IAWNkVR8bT3SmGFnV7y0eNPXf6WwxsuZozdKkXOmQMbKqr9jPda4YWd7Nwsjq8mBZ7ZAxsqrvZh3rXDGyqv8W7gFJ+bmzxcias+W7JeUHDhojq/oi5JPOFiOr+th4vbPFyGr3YBl30BhZ1XezHuVsMbJqrdw3KT91vhhZc/9u1i5JucxhY2RVX4R81PliZFV/2Po1zhcjq92DZcxhY2RVHxuPSMpGZ4yRNeOd3rsl5VpnjJHV7p9MuNSBY2RVh9YZzhgjq/pO7wnOGCOr3RPJ8x04RlatiYcm5XbnjJE147Gxp58Cwshq14Jk8EWHjpFVfRHyDueMkeXrJhhZXV6VPNL3TzCyqj/eu39SrnfWGFkz/nhqYVLOd9YYWe0+Yz/NwWNkVR8bf+isMbKqX4J/tLPGyGrV8OCk3OjwMbJqP3cy+Jbzxsiqvgh5v/PGyGr3Gfv/c/gYWdUnkqc4b4ys6j8efWhSbnbmGFlzv5u1OGm+6wbAyPIDpRhZW/DY+DNnjpHV7jP257gBMLKqfyDywKSsd+4YWTP+8ejdk/JD546R1eonHcp5bgSMrOor9r927hhZ1Rfoy507Rla772YdkZRb3RAYWdNbt1dSfuDsMbKqL9A/7uwxstq9KvlTNwRGVvXdrGc4e4ys6gv0X5r6v+02wMia6/snuyblQjcGRlZ1aH3A+WNkVR8br3T+GFntfwnev92GkTXznd4Dk3Kt2wAja8bvyu2clK+4DTCyfNEXI8u/3YaR1f+LkIf5S1yMrHbvZu2ZlMvdKBhZvuiLkbUFL9D/wu2AkdXuFfuT3CgYWb7oi5HVvrElSbnUbYGR1e5VyXvdMBhZ1cfGK9wWGFnVf0XksUnZ6PbAyJqz1fsl5Qo3DkZW9Yu+n3N7YGT5Xi9GVpcHy+P8tSFGVq3xQ5Nyg9sEI2t6y3dLytfdJhhZ7b6DcpIbCCOr+th4odsEI6v62DgiKTe7XTCy2v1I6QVuJIys6ru9/+h2wciqPjZWu10wstoNrQf6iyqMrFrr9kqa77ptMLKqP3lyltsGI6vdq5JxNxRGVvWxcUxSNrh9MLJmfHfxoKRc7fbByGr1qmRwhhsLI6s6tF7r9sHIqtU8ze2DkdWqNfsn5UduMIysGT/EuCgZfNFthJFVHVqnuI0wstr91civJ+VWNxpG1vRW3SspV7mdMLKqP+vwZbcTRla7j0aGbjSMrOor9mN9Pwsjq/q8cYgXIRhZ7R8w/+CGw8iqPjb8szsYWfVPQn7LixCMrFYNFyflq248jKzqH4m8z+2FkVV9t/eP3F4YWe2G1v2Scp0bECNreit2T8qFbjOMLC9CMLK6fDTyO/HvG2Jk1R4bh8e/b4iRVWntHl6EYGS1fzJ5tRsRI6v6HZSnJmWj2w4jy4sQjKx5NrkwKf/mhsTIqg6t17jtMLKqj42n+yQEI6v9F+G/4MbEyKp9B6U51e2HkVX9Ivwqtx9GVrsv+x7gH8vFyKq+27tLUj7hNsTIqg6tN7sNMbJaNfFAf3GIkVV9t3efpFzsdsTImt6ynZLmX92OGFntXpU8Ov7pHYysSuOHJuVKtyVG1vTGlvj3PzGy2n+h8UVuWIys6l9VHZWUn7s9MbJmvEA/0FdOMLL8tANGVtcnk2f6qyqMLF85wcjq+FdV/o1DjCx/VYWRtUXfX3xsUm5xu2JktfpCY3mvGxkjqzq0Jt2uGFnVr5w8NSm3uW0xsub+QuOipHzIDY2RVR1af+62xcia9WP1DW5fjKy53/5dnJRPurExsqofq/+N2xcjqzq0lsc/TYWR1fpPdD/tBsfIqg6td7qNMbKqHx1OuI0xslq1bq+knO9Gx8jy/UWMrC14R+uP3c4YWa1avV9SLnTDY2RVv794ptsaI6v6jtbr3NYYWa0aPyj+iRGMrFm+v9ic7fbGyKoOrZPc3hhZrVqzf9J8zR0AI2t6k7sk5f1uc4ysWmWd2xwjq93n7HdLyufcCTCyat/Rat7ldsfIqr6jtdZfHWJktXtHa2lSPu6OgJE14x2thcngHW57jKzq0Hp5/PNUGFmtvvC7JCkfcWfAyJrRgqS80e2PkVX9NOR5SVnvPoCR1e57KP/iDoGR5XsoGFlb8I7Ws+Kf4MHIajW0dk7Kae4UGFmGFkbWFjw2ficpN7svYGS1+njEP5yLkTXLq/YXedWOkVX96PDopFzl/oCR1e4B81KftWNkVYfWbyXlevcJjKzpTdzXbzBiZLV/wDw+KTe4k2BkzRhaRyTNd90vMLKmN9zHv5OLkdX+s/aHJOVydxQjy2Nhxru9B8a/BYqRVXuBvqvv92JktW78oKR81Z3FyNL01ixNBme4fxhZ8v1ejKwOrdg9KR92hzGyNL1lOyXlLe4jRpaqn4a8xB+LGFlq1dgiTyZGlmb9ntaEJxMjS7N+v/ca9xUjS+1emTw3KTe68xhZmvE9rUcl5Qr3FyNL01t1r2TwRfcXI0vtXpk8NCmXugMZWZrx2Lh7Uj7pPmNkacZjY1f/HqiRpfYPmD2T8kF3IiNL05vcOSknut8YWap+tD6WlFvdd4wszd2CTP1zI/41diNLPlo3stR2aD3Cb80ZWWr/gHlSUq51hzKy5KN1I0vtWr1fUj7uPmRkqVXDw5LyeXcqI0vTO37vpPln9yMjS7WP1gevScoG9yUjS+2+i7LOn7IbWap+fLgsKde5PxlZmvGO7yO942tkqf2Tya8l5RJ3MCNL02vuM3We7ldGlqYNrT2T5lT3KSNL7R8wp7iTGVnyjq+RpS18x9d3fI0secAYWer8jq+PSIwszWjlvZNyrvuXkaXWD5jmU+5wRpamt24vH5EYWaq1bKdk8Crv+BpZateCpLwgKT9xxzOyNL3miX43yMhSrcER/nLdyFLrVhyQDN7nzmdkaXpjS0a/FO/P2Y0sbdbkwtEvxf/Ufc7IUquGxyXl++6ERpZmvKv18KR8xf3OyNL0xg/yz7kZWdqi76OUk/2zPEaWZryrtWj0F4i3uP8ZWZpeWZaUq9z/jCy1+8z9MUn5tjukkaUZ72r9st/VMrJUa/V+SXl3Uja6HxpZavXKfVCScr07ppGlzVow9crdF+ONLM1s+Ku+GG9kqXUr9x19hOjLv0aWNn8hsmT0EeLP3CeNLM14IfKCpPzIfdLIUruPSR7ux+iMLNWauOfot7V8TGJkabPWLE2ayaTc7L5pZKndW8HHJeU77qxGlnxMYmSp5WPjfkk53f3TyFK7B8zi0S//+o0UI0ubNbkwKS9Jyg/dT40szXjueGzSfM391MhSq1buO3or+AZ3XiNLm42tXUY/1niF+6uRpc1aMPpE5AL3VyNLrVq93+iXsW9yJzaytGlrlo7+SvfH7rdGlma867ssGXzL/dbIUrsnlP1HY8uXHI0sbdaK3Ud/iXit+6+RpdrYKpe4/xpZatWqe41+9sGvYxtZ2qy1e4zGlt+fM7K0WWOLRj/74A+rjCy1a/zQ0djyO0JGljZr5b5J+RMfIxpZmt7Erknz0qRc5P5sZKndg2bP0fdS/APURpY2/6hkl9Gr92+6XxtZ2qwFU3+NWM50vzaytGVPKF93Zzey5AnFyFK7moeNfvD3NvdxI0utKseMnlD8SraRJU8oRpbaPDYOHP1s0HXu60aWWjV8UNL8ZVJ+4gFgZGnTJu6ZlBP8Q9RGlmY8NvZMBi9Pylfc540stXvQ7Dr6zZRzvLtlZGnTJheOPko8PSm3uv8bWZr+Qr2c6IW6kaX2D5r7jd4SvtyDwsjSph2/9+iX5L/hcWBkadOW7+aFupGlLWpsUdL87ui7W17BG1n63xYkzaOT8m7/hqiRpRmfjDwwKW/0b4gaWWpdc7fRXyYaXEaWZryCHx43+rL8T40s6RdNLhz9kdXJ/h1RI0utO37vTQbXbUaWVB1cPzOypOrg+rGRJbVqzf5Jc3xSPrkDDS4jSy1asXtSnpuUDyblRiNL+p/BtXNSnpAM/jYpVxlZUrvBtXT0V1gnb+d/9m5kaT5PKseM/grr/O34i8FGlubR8EFT/6bo4Jzt+8W6kaV+HziHjf4S68zt7B+rNrLU9V2uA0YfuZ++nf1j1UaWuj5v7DP1V4rNKdvfPwVnZOmOe1LZPSlPGf3w6ZeSst7IkpKpf+6qOTYpr03KuVNDxciSMvVXvA+fepernLnt/xaXkaU7rbElo49PfvHgucbIkpKpjxaHD5p6F7g5NSnfM7Kk/3mn67Cpd4GbU5Jy4bb10buRpbvuiWVhMnzw1Jfom1NH/4j1bUaWlEz9QPDghaMnlvO34ne7jCzdyZV7JIOnJ4OTkuZTSbnWyJK26BV9WTb6Bfozk/JfW8ErFyNLW0HjB41+LmJy9N2uC5Nyu5EljR809UdYgzJ60X5+Um42sqR2r+r3SQaPSZqVo18V/kBSLrgT/2V4I0tbaWv3SJqjRx81/nnS/PPoO5BXGVnawV+075JMPDRpnjd6YfIPyeDTo38+7nYjS2pVc7dk4sipt4+bVUnz5mRwRlI+m5SLk3J1D++EGVnaBluxezI4YurdrzLY5AXKZ5JyUVKuTMoGI0s75gAb3i8pj0vKy0Z/hHLa6Pcf/yMpP+jnnTAjSztGC5LV+yXl8GTw61NPOoMXJYM1oy/iv3bq94yaN0x9B6Y5ZfRv1J0+8iZHqO234T7JqvtPvSNWfmf0XbBVo8fGn009NgYnbfLYOG3qcTF4X1I+5Py0/bZmaVIOGf3F4xOmfmx4MDF6bJww+h28E5PyN6PHxjs3ed740NR/VpIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkaWttYtfk+L0BAOhqcuEmI6sMkvLfAAB0tfLeRhYAQO8m7mlkAQD0rjnQyAIA6P+drLsbWQAAvRvuY2QBAPRu3V5GFgBA79YsNbIAAPr/uHCxkQUA0K+NSRYYWQAA/bpp2j+rY2QBAPTgGiMLAKB/lxtZAAD9u9jIAgDo3wVGFgBA/z5rZAEA9G5wjpEFANC/040sAID+vd3IAgDo3+uNLACA/r3SyAIA6N8KIwsAoHfNc4wsAID+R9YTjSwAgN5NPNLIAgDo/52s+xhZAAC9G1tiZAEA9OtnmZmRBQDQ0aVGFgBA/z5nZAEA9O+DRhYAQP/ebmQBAPTvBCMLAKB3gxcZWQAAvRs+1sgCAOjdqvsbWQAAvZvxa+9GFgBAR1ennpEFANDBV4wsAIDeNf9qZAEA9O8vjCwAgP7fyTreyAIA6N3E440sAIDeDQ8zsgAA+nVbMrmzkQUA0K9vZ/aMLACAeTrLyAIA6P8vC//SyAIA6N/LjCwAgP7fyXqUkQUA0LvhPkYWAEC/fpj/OyMLAGDLDc4xsgAA7ty/LDSyAADm+U7WmJEFANC/o4wsAIB+bUjGlhhZAAD9+kbmzsgCANjCL72famQBAPQ/slYZWQAA/f9l4WOMLACAfm2c45/TMbIAAObhkrTLyAIA2ALvNrIAAPo3bmQBAPRu+CtGFgBAv25OJncxsgAA+vWZtM/IAgBop3mDkQUA0L9nGFkAAP3amKzZ38gCAOjXRdmyjCwAgBbeamQBAPT/pffnGFkAAL1bdS8jCwCgX5dmyzOyAADm8HdGFgDAXf99LCMLAGAOG5MVBxhZAAD9+mrml5EFAPB/fFT450YWAEDvho81sgAA+nVzMlxsZAEA9PtR4dmZf0YWAEDdoBhZAAD9fx/rfkYWAEC/Lkq3jCwAgIrXG1kAAL2b+E0jCwCgX9cnY4uMLACAfv1TumdkAQBsbvBsIwsAoF+3JBN7GlkAAL1q/jX9ZGQBAGzyUeHzjSwAgH7dlhy/t5EFANCvs9JfRhYAwMhLjCwAgN4/Kly5r5EFANDvF97PSL8ZWQAASfMcIwsAoF83Jit2N7IAAPr9qPA96T8jCwDY4T8qfLKRBQDQr58kk7sYWQAA/X5U+Fe5YzKyAIAdemQ9wsgCAOjXN3LHZWQBADusoZEFANCv9Um5h5EFANCvD+SOzcgCAHZEw+OMLACAfl2RjC0ysgAAetVM5o7PyAIAdigbknKIkQUA0K8P5s7JyAIAdihPMLIAAPr1X8nkQiMLAKBXg7W58zKyAIAdws+TlfsaWQAA/Xpr7tyMLABgu7cxaX7ZyAIA6NdHcudnZAEAfrbByAIA2DIXJ1lgZAEA9OsPctdkZAEA260fJ8PFRhYAQL9ekbsuIwsA2C7dkDR3M7IAAPp1Yu7ajCwAYLtzSzJ+kJEFANCr5pTc9RlZAMB2ZX0yvJ+RBQDQ77tY78rWkZEFAGw3NiTlcCMLAKDfd7FOzdaTkQUAeBfLyAIAqHt3tq6MLADAu1hGFgDATH+frS8jCwDYpt2aDA8zsgAA+nVyts6MLABgm3VjsuIAIwsAoFeD12TrzcgCALZJ1yXH721kAQD0+y7WmmzdGVkAwDbnO8nErkYWAEC/lmXrz8gCALYpn0+ywMgCAOjPxqR5VLaNjCwAYJvxT9l2MrIAgG3Czcn4oUYWAEC/Xp1tKyMLANjqXZ6sWWpkAQD0qnlmtr2MLABgq/aJbJsZWQDAVmt9MnywkQUA0K83ZtvNyAIAtkpXJM3djCwAgH49I9t2RhYAsNU5K9t+RhYAsFX5+Tb2y+5GFgCwLRisyfaRkQUAbDW+nowtMrIAAPqzPilHZfvJyAIAtgp/lu0rIwsAuMtdnAwXG1kAAP25PSnHZPvLyAIA7lJvyvaZkQUA3GUuS1bsbmQBAPT6MWHz6Gy/GVkAwF2heUO274wsAOBOd2GyfDcjCwCgP7ckEw/N9p+RBQDcmQZrs2NkZAEAd5rzkmU7GVkAAP25Phk/NDtORhYAcKd4bnasjCwA4A7/HtY7suNlZAEAd6hvJ2v3MLIAAHr9uYbmYdkxM7IAgDvMeHbcjCwA4A7x/iQLjCwAgP5ckqzbKzt2RhYA0Kubk4kjIyMLAOj15xpeZF8ZWQBAvwPrHbaVkQUA9OuCZLjYtjKyAID+/CSZuK9dZWQBAP3ZkAx+26YysgCAXjWr7CkjCwDo94vu77GljCwAoPcvuo8tsaWMLACgP1cm5RA7ysgCAPpzc9IcbUMZWQBAfzYm5fftJyMLAOj3LwknbScjCwDo1+lJFthORhYA0J8v+0tCIwsA6NelyZr9bSYjCwDoz9XJqvvbS0YWANCfm/xUg5EFAPRrQzJ4up1kZAEA/Rq3kYwsAKBfr7aPjCwAoF9/YxsZWQBAv05LJhfaRkYWANCfjyWTu9hFRhYA0J/PJWuW2kRGFgDQn68k6/ayh4wsAKA//5mUe9hCRhYA0JvBt5LmQDvIyAIA+nNJMn6QDWRkAQD9+V7S3Mf+MbIAgP5cnowfavsYWQBAb5rvJsPD7B4jCwDoz2UGlpEFAPT+V4QT97R3jCwAoNffwfJXhEYWANCni/wOlpEFAPTrS8nKfW0cIwsA6O+vCD+VTOxp3xhZAEB/X3I/Ixkutm2MLACgv4H1nmRskV1jZAEA/Q2sv0omF9o0RhYA0I+NSXmlLWNkAQD9WZ+Ul9kxRhYA0J+fJc0TbRgjCwDoz4+S5uH2i5EFAPTnoqS5j+1iZAEA/flMsno/u8XIAgD6806/gWVkAQC9/kRDM2mrGFkAQH9uTJqn2SlGFgDQn8uTiSNtFCMLAOjPecmKA+wTIwsA6E1zSjK5i21iZAEA/bglaV5qkxhZAEB/fphMPNIeMbIAgP6cmzQH2iJGFgDQ2+9flZP9wKiRBQD054akeab9YWQBAP25IJm4r+1hZAEA/Xl7snw3u8PIAgD6+3jwOfaGkQUA9OdLPh40sjwQAMBfD8rIAoCt1g+T5lj7QkYWAPTnX5LV+9kWMrIAoLcvtw/GbAoZWQDQn8/6cruMLADozy1JWZdMLrQlZGQBQD++kEw80IaQkQUA/bhp6t2rZTvZDzKyAKC3716NP8BukJEFAP34ue9eycgCgH6dmay8t60gIwsA+nFFUl5gI8jIAoB+3J40pyQTe9oHMrIAoB8XJMNftQtkZAFAP65LBiWZ3NkmkJEFAN1tTJpTkzX72wIysgCgH+cnE4+0AWRkAUBvfzXYLE+ywPO/jCwA6O6mpJzorwZlZAFAb9+7KqcnzX0838vIAoB+fD5pjvY8LyMLAPrxjaQ8xfO7jCwA6Mf3ksFYsmwnz+0ysgCgu6uSsi6Z2NVzuowsAOjumqS8Ihlb4rlcRhYA9DKumslk3V6ew2VkAYBxJSMLALa271wN1iYrdvecLSMLADprvpsMiu9cycgCgP5+5+oFydgiz9EysgCgu/OS4XHxjzfLyAKAzm5PyplJ8yjPxzKyAKC7G5JyclIO8TwsIwsAurtk6svsa5Z6/pWRBQDdbEgG5/i+lYwsAOjHD5Nyoo8EZWQBQC/vWpUPJ+UpybKdPMfKyHJRAKCTwbem/smb5j6eVyUjC4BubkrK6cnwsb5rJRlZAHT+OLA5Oykv8BeCkpEFQHcXJmVdsuIAz5uSkQVA92H1J8nwMM+VkpEFQOdh1Uwmg0d4fpSMLAB6GVbjD/CcKBlZAMzfzUn5SNKsTFbe2/OgZGQBMH9XJc2pSVmWTOzpuU8ysgCYn1uT8u9JeeXo+1V+x0oysgCYp/9KmlOm3q1at5fnN8nIAmB+Lk4G70gGz0+GB3s+k4wsALq9U/WCpBzi+UsysgDYcj9NynlJOTEZHpes3s/zlWRkAbDlP6nwpaS8NWmWJ80vxxfVJSMLgC1yw+gdqpOTwVhSjkkmdvVcJBlZALQfU19IyjuTsjopT/DDn5KRBUA7tyTloqScmZQ3Tf2C+sTjk1X38twiycgCmN1No59JOCcpfz/17/uVlyTNsVPvSk0u9BwiycgC+N8vmf8oKV9PyseS8u6kvDEp60ZfOn9yMnFkMnF3zw+SOjZ4dlLOB9g6Dc6Zqbw/KadP/Vt8zSnJ4KSpnzoo66a+/zQYS5rnJM0Tk+boqb/WW3FAsnw313xJkiRJkiRJkn7R/wea/e18dkBzLwAAAABJRU5ErkJggg\u003d\u003d"
  },
  "description": "This template lets you send calls to RudderStack from Google Tag Manager.",
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "type": "SELECT",
    "name": "call",
    "macrosInSelect": false,
    "selectItems": [
      {
        "value": "track",
        "displayValue": "track"
      },
      {
        "value": "page",
        "displayValue": "page"
      },
      {
        "value": "identify",
        "displayValue": "identify"
      }
    ],
    "simpleValueType": true,
    "help": "Select which RudderStack API call you want to make.",
    "displayName": "Call"
  },
  {
    "type": "SELECT",
    "name": "useObjectAction",
    "displayName": "Use object action",
    "macrosInSelect": false,
    "selectItems": [
      {
        "value": true,
        "displayValue": "True"
      },
      {
        "value": false,
        "displayValue": "False"
      }
    ],
    "simpleValueType": true,
    "help": "Select whether or not you are using the Object-Action framework as a naming convention. If selected, enter separate Object and Action values to create the track call\u0027s event name. The Object and Action will also be included as seperate properties in the track call.",
    "defaultValue": true,
    "enablingConditions": [
      {
        "paramName": "call",
        "paramValue": "track",
        "type": "EQUALS"
      }
    ]
  },
  {
    "type": "SELECT",
    "name": "userId",
    "displayName": "User id",
    "macrosInSelect": true,
    "selectItems": [],
    "simpleValueType": true,
    "enablingConditions": [
      {
        "paramName": "spec",
        "paramValue": "identify",
        "type": "EQUALS"
      }
    ]
  },
  {
    "type": "TEXT",
    "name": "event",
    "displayName": "Event",
    "simpleValueType": true,
    "enablingConditions": [
      {
        "paramName": "useObjectAction",
        "paramValue": false,
        "type": "EQUALS"
      }
    ]
  },
  {
    "type": "TEXT",
    "name": "object",
    "displayName": "Object",
    "simpleValueType": true,
    "enablingConditions": [
      {
        "paramName": "useObjectAction",
        "paramValue": true,
        "type": "EQUALS"
      }
    ]
  },
  {
    "type": "TEXT",
    "name": "action",
    "displayName": "Action",
    "simpleValueType": true,
    "enablingConditions": [
      {
        "paramName": "useObjectAction",
        "paramValue": true,
        "type": "EQUALS"
      }
    ]
  },
  {
    "type": "SELECT",
    "name": "defaultProperties",
    "displayName": "Default properties or traits",
    "macrosInSelect": true,
    "selectItems": [],
    "simpleValueType": true,
    "help": "Select a json object variable that you want add as default properties or traits that will be included with every track or identify call.",
    "enablingConditions": [
      {
        "paramName": "call",
        "paramValue": "load",
        "type": "NOT_EQUALS"
      }
    ]
  },
  {
    "type": "SIMPLE_TABLE",
    "name": "customProperties",
    "displayName": "Custom properties or traits",
    "simpleTableColumns": [
      {
        "defaultValue": "",
        "displayName": "Key",
        "name": "key",
        "type": "TEXT"
      },
      {
        "defaultValue": "",
        "displayName": "Value",
        "name": "value",
        "type": "TEXT"
      }
    ],
    "enablingConditions": [
      {
        "paramName": "call",
        "paramValue": "load",
        "type": "NOT_EQUALS"
      }
    ],
    "help": "Add any custom properties or traits that you want to include with the track or identify call specific to this tag."
  },
  {
    "type": "SELECT",
    "name": "suppressGa",
    "displayName": "Suppress Google Analytics",
    "macrosInSelect": true,
    "selectItems": [
      {
        "value": true,
        "displayValue": "True"
      },
      {
        "value": false,
        "displayValue": "False"
      }
    ],
    "simpleValueType": true,
    "help": "Select true to prevent the identify call from being sent to GA. Set to true if the User ID is an email address",
    "enablingConditions": [
      {
        "paramName": "call",
        "paramValue": "identify",
        "type": "EQUALS"
      }
    ]
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

// Enter your template code here.
const log = require("logToConsole");
const JSON = require("JSON");
const callInWindow = require("callInWindow");
const copyFromWindow = require("copyFromWindow");
const customProperties = data.customProperties;
const call = data.call;
const properties = {};
if (customProperties) {
  for (var i = 0; i < customProperties.length; i++) {
    var property = customProperties[i];
    properties[property.key] = property.value;
  }
}
const defaultProperties = data.defaultProperties;
if (typeof defaultProperties === "object") {
  for (var attrname in defaultProperties) {
    properties[attrname] = defaultProperties[attrname];
  }
} else {
  if (call === "identify") {
    properties.defaultTrait = defaultProperties;
  } else {
    properties.defaultProp = defaultProperties;
  }
}
if (call === "track") {
  let event = data.event;
  if (data.useObjectAction) {
    event = data.object + " " + data.action;
    properties.category = data.object;
    properties.object = data.object;
    properties.action = data.action;
  }
  callInWindow("rudderanalytics.track", event, properties);
}
if (call === "page") {
  callInWindow("rudderanalytics.page", properties);
}
if (call === "identify") {
  const userId = data.userId;
  let suppressGa;
  if (data.suppressGa == "true" || data.suppressGa == true) {
    suppressGa = true;
  } else {
    suppressGa = false;
  }
  const options = {
    integrations: {
      All: true,
      "Google Analytics": suppressGa == false,
    },
  };
  callInWindow("rudderanalytics.identify", userId, properties, options);
}

data.gtmOnSuccess();


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "logging",
        "versionId": "1"
      },
      "param": [
        {
          "key": "environments",
          "value": {
            "type": 1,
            "string": "debug"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "access_globals",
        "versionId": "1"
      },
      "param": [
        {
          "key": "keys",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "rudderanalytics.track"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "rudderanalytics.identify"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "rudderanalytics.page"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___TESTS___

scenarios:
- name: Untitled test 1
  code: |-
    const mockData = {
      // Mocked field values
    };

    // Call runCode to run the template's code.
    runCode(mockData);

    // Verify that the tag finished successfully.
    assertApi('gtmOnSuccess').wasCalled();


___NOTES___

Created on 05/09/2022, 18:09:24


